#!/bin/bash
set -euo pipefail

LANG="en_GB.UTF8"

declare -A symbols=(
    ["fun"]="λ"
    ["acute"]="\u301"
    ["bar"]="\u304"
    ["breve"]="\u306"
    ["check"]="\u30C"
    ["ddot"]="\u308"
    ["dot"]="\u307"
    ["grave"]="\u300"
    ["hat"]="\u302"
    ["tilde"]="\u303"
    ["vec"]="\u20D7"
    ["Downarrow"]="\u21D3"
    ["Leftarrow"]="\u21D0"
    ["Leftrightarrow"]="\u21D4"
    ["Longleftarrow"]="\u27F8"
    ["Longleftrightarrow"]="\u27FA"
    ["Longrightarrow"]="\u27F9"
    ["Rightarrow"]="\u21D2"
    ["\uparrow"]="\u21D1"
    ["\updownarrow"]="\u21D5"
    ["downarrow"]="\u2193"
    ["hookleftarrow"]="\u21A9"
    ["hookrightarrow"]="\u21AA"
    ["leftarrow"]="\u2190"
    ["leftharpoondown"]="\u21BD"
    ["leftharpoonup"]="\u21BC"
    ["leftrightarrow"]="\u2194"
    ["longleftarrow"]="\u27F5"
    ["longleftrightarrow"]="\u27F7"
    ["longmapsto"]="\u27FC"
    ["longrightarrow"]="\u27F6"
    ["mapsto"]="\u21A6"
    ["nearrow"]="\u2197"
    ["nwarrow"]="\u2196"
    ["rightarrow"]="\u2192"
    ["rightharpoondown"]="\u21C1"
    ["rightharpoonup"]="\u21C0"
    ["searrow"]="\u2198"
    ["swarrow"]="\u2199"
    ["uparrow"]="\u2191"
    ["updownarrow"]="\u2195"
    ["amalg"]="\u2A3F"
    ["ast"]="\u2217"
    ["bigcirc"]="\u25CB"
    ["bigtriangledown"]="\u25BD"
    ["bigtriangleup"]="\u25B3"
    ["bullet"]="\u2219"
    ["cap"]="\u2229"
    ["cdot"]="\u22C5"
    ["circ"]="\u2218"
    ["cup"]="\u222A"
    ["dagger"]="\u2020"
    ["ddagger"]="\u2021"
    ["diamond"]="\u22C4"
    ["div"]="\uF7"
    ["mp"]="\u2213"
    ["odot"]="\u2299"
    ["ominus"]="\u2296"
    ["oplus"]="\u2295"
    ["oslash"]="\u2205"
    ["otimes"]="\u2297"
    ["pm"]="\uB1"
    ["setminus"]="\u2216"
    ["sqcap"]="\u2293"
    ["star"]="\u22C6"
    ["times"]="\uD7"
    ["triangleleft"]="\u25C1"
    ["triangleright"]="\u25B7"
    ["uplus"]="\u228E"
    ["vee"]="\u2228"
    ["wedge"]="\u2227"
    ["wr"]="\u2240"
    ["overbrace"]="\uFE37"
    ["overleftarrow"]="\u20D6"
    ["sqrt"]="\u221A"
    ["underbrace"]="\uFE38"
    ["widehat"]="\u302"
    ["widetilde"]="\u303"
    ["backslash"]="\u5C"
    ["langle"]="\u27E8"
    ["lceil"]="\u2308"
    ["lfloor"]="\u230A"
    ["lmoustache"]="\u23B0"
    ["rangle"]="\u27E9"
    ["rceil"]="\u2309"
    ["rfloor"]="\u230B"
    ["rmoustache"]="\u23B1"
    ["alpha"]="\u3B1"
    ["beta"]="\u3B2"
    ["chi"]="\u3C7"
    ["delta"]="\u3B4"
    ["epsilon"]="\u3F5"
    ["eta"]="\u3B7"
    ["gamma"]="\u3B3"
    ["iota"]="\u3B9"
    ["kappa"]="\u3BA"
    ["lambda"]="\u3BB"
    ["mu"]="\u3BC"
    ["nu"]="\u3BD"
    ["omega"]="\u3C9"
    ["phi"]="\u3D5"
    ["pi"]="\u3C0"
    ["psi"]="\u3C8"
    ["rho"]="\u3C1"
    ["sigma"]="\u3C3"
    ["tau"]="\u3C4"
    ["theta"]="\u3B8"
    ["upsilon"]="\u3C5"
    ["varepsilon"]="\u3B5"
    ["varphi"]="\u3C6"
    ["varpi"]="\u3D6"
    ["varrho"]="\u3F1"
    ["varsigma"]="\u3C2"
    ["vartheta"]="\u3D1"
    ["xi"]="\u3BE"
    ["zeta"]="\u3B6"
    ["Delta"]="\u394"
    ["Gamma"]="\u393"
    ["Lambda"]="\u39B"
    ["Omega"]="\u3A9"
    ["Phi"]="\u3A6"
    ["Pi"]="\u3A0"
    ["Psi"]="\u3A8"
    ["Sigma"]="\u3A3"
    ["Theta"]="\u398"
    ["\upsilon"]="\u3D2"
    ["Xi"]="\u39E"
    ["Im"]="\u2111"
    ["Re"]="\u211C"
    ["aleph"]="\u2135"
    ["angle"]="\u2220"
    ["bot"]="\u22A5"
    ["clubsuit"]="\u2663"
    ["diamondsuit"]="\u2662"
    ["ell"]="\u2113"
    ["emptyset"]="\u2205"
    ["exists"]="\u2203"
    ["flat"]="\u266D"
    ["forall"]="\u2200"
    ["hbar"]="\u210F"
    ["heartsuit"]="\u2661"
    ["imath"]="\u131"
    ["infty"]="\u221E"
    ["jmath"]="\u1D6A5"
    ["mho"]="\u2127"
    ["nabla"]="\u2207"
    ["natural"]="\u266E"
    ["neg"]="\uAC"
    ["not"]="\u338"
    ["partial"]="\u2202"
    ["prime"]="\u2032"
    ["sharp"]="\u266F"
    ["spadesuit"]="\u2660"
    ["surd"]="\u221A"
    ["top"]="\u22A4"
    ["triangle"]="\u25B3"
    ["wp"]="\u2118"
    ["cdots"]="\u22EF"
    ["colon"]="\u3A"
    ["ddots"]="\u22F1"
    ["ldots"]="\u2026"
    ["vdots"]="\u22EE"
    ["Join"]="\u2A1D"
    ["approx"]="\u2248"
    ["asymp"]="\u224D"
    ["bowtie"]="\u22C8"
    ["cong"]="\u2245"
    ["dashv"]="\u22A3"
    ["doteq"]="\u2250"
    ["equiv"]="\u2261"
    ["frown"]="\u2322"
    ["geq"]="\u2265"
    ["gg"]="\u226B"
    ["in"]="\u2208"
    ["leq"]="\u2264"
    ["ll"]="\u226A"
    ["mid"]="\u2223"
    ["models"]="\u22A7"
    ["neq"]="\u2260"
    ["ni"]="\u220B"
    ["parallel"]="\u2225"
    ["perp"]="\u27C2"
    ["prec"]="\u227A"
    ["preceq"]="\u2AAF"
    ["propto"]="\u221D"
    ["qed"]="\u220E"
    ["sim"]="\u223C"
    ["simeq"]="\u2243"
    ["smile"]="\u2323"
    ["sqsubset"]="\u228F"
    ["sqsubseteq"]="\u2291"
    ["sqsupset"]="\u2290"
    ["sqsupseteq"]="\u2292"
    ["subset"]="\u2282"
    ["subseteq"]="\u2286"
    ["succ"]="\u227B"
    ["succeq"]="\u2AB0"
    ["supset"]="\u2283"
    ["supseteq"]="\u2287"
    ["vdash"]="\u22A2"
    ["bigcap"]="\u22C2"
    ["bigcup"]="\u22C3"
    ["bigodot"]="\u2A00"
    ["bigoplus"]="\u2A01"
    ["bigotimes"]="\u2A02"
    ["bigsqcup"]="\u2A06"
    ["biguplus"]="\u2A04"
    ["bigvee"]="\u22C1"
    ["bigwedge"]="\u22C0"
    ["coprod"]="\u2210"
    ["int"]="\u222B"
    ["oint"]="\u222E"
    ["prod"]="\u220F"
    ["sum"]="\u2211"
    ["land"]="\u8743"
    ["lor"]="\u8744"
    ["rbrace"]="\u125"
    ["vert"]="\u124"
    ["Vert"]="\u8214"
    ["lbrace"]="\u123"
    ["mathdollar"]="\u36"
    ["lnot"]="\u172"
    ["gets"]="\u8592"
    ["to"]="\u8594"
    ["owns"]="\u8715"
    ["ne"]="\u8800"
    ["le"]="\u8804"
    ["ge"]="\u8805"
    ["\`a"]="\u00E0"
    ["\`A"]="\u00C0"
    ["^a"]="\u00E2"
    ["^A"]="\u00C2"
    ["\`e"]="\u00E8"
    ["\`E"]="\u00C8"
    ["'e"]="\u00E9"
    ["'E"]="\u00C9"
    ["^e"]="\u00EA"
    ["^E"]="\u00CA"
    ["..e"]="\u00EB"
    ["..E"]="\u00CB"
    ["^i"]="\u00EE"
    ["^I"]="\u00CE"
    ["..i"]="\u00EF"
    ["..I"]="\u00CF"
    ["^o"]="\u00F4"
    ["^O"]="\u00D4"
    ["\`u"]="\u00F9"
    ["\`U"]="\u00D9"
    ["^u"]="\u00FB"
    ["^U"]="\u00DB"
    ["..u"]="\u00FC"
    ["..U"]="\u00DC"
    ["..y"]="\u00FF"
    ["..Y"]="\u0178"
    ["endash"]="\u2013"
    ["tm"]="™"
)

(for x in "${!symbols[@]}"; do echo -e "$x\t↦  ${symbols[$x]}"; done) |\
    expand -t 25 |\
    rofi -dmenu -i -p "CODE:" |\
    tr -s ' ' |\
    cut -d ' ' -f 3- |\
    tr -d '\n' |\
    xsel --clipboard --input
